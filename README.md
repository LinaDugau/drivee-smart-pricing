# ๐ Drivee Smart Pricing (ะฃะผะฝะฐั ัะตะฝะฐ)

ะะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ัะตะบะพะผะตะฝะดัะตั **ะพะฟัะธะผะฐะปัะฝัั ัะตะฝั ะฟะพะตะทะดะบะธ ัะฐะบัะธ**, ะฟัะพะณะฝะพะทะธััั ะฒะตัะพััะฝะพััั ะฟัะธะฝััะธั ะฒะพะดะธัะตะปะตะผ ะธ ะพะถะธะดะฐะตะผัะน ะดะพัะพะด.  
**ะะฐ ะฒัะพะด**: ัะตะฝะฐ ะฟะฐััะฐะถะธัะฐ, ะฒัะตะผั, ะผะฐััััั (AโB) ะธะปะธ ะดะธััะฐะฝัะธั  
**ะะฐ ะฒััะพะด**: ะปัััะฐั ัะตะฝะฐ + ะฐะปััะตัะฝะฐัะธะฒั (90% / 60% / 20% ะพั ะผะฐะบัะธะผะฐะปัะฝะพะน ะฒะตัะพััะฝะพััะธ) + ัะฐัััั ยซัะฒะพะตะน ัะตะฝัยป.

---

## ๐ ะะฐะทะฒััััะฒะฐะฝะธะต (ะปะพะบะฐะปัะฝะพ)

### 1) ะะปะพะฝะธัะพะฒะฐะฝะธะต ะธ ะพะบััะถะตะฝะธะต

>git clone https://github.com/LinaDugau/drivee-smart-pricing.git
>cd drivee-smart-pricing

>python -m venv venv
# Windows:
>venv\Scripts\activate
# macOS/Linux:
>source venv/bin/activate
>cd demo

### 2) ะะฐะฒะธัะธะผะพััะธ

>pip install -r requirements.txt 

### 3) ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
ะะพะปััะธัะต ะฑะตัะฟะปะฐัะฝัะน ะบะปัั OpenRouteService: https://openrouteservice.org/dev/#/signup
# macOS/Linux:
>export ORS_API_KEY="ะะะจ_ะะะฎะง"

# Windows (PowerShell):
>setx ORS_API_KEY "ะะะจ_ะะะฎะง"
# ะธะปะธ ะฝะฐ ัะตะบัััั ัะตััะธั:
>set ORS_API_KEY=ะะะจ_ะะะฎะง

### 4) ะะพะดะตะปั
ะะฑััะธัะต ะผะพะดะตะปั ะฝะฐ ัะฒะพะตะผ train.csv
ะธะปะธ ะธัะฟะพะปัะทัะนัะต ะฟัะธะปะพะถะตะฝะฝัั ะพะฑััะตะฝะฝัั ะผะพะดะตะปั model.joblib ะฒ ะบะพัะตะฝั ะฟัะพะตะบัะฐ
>python train_model.py

### 5) ะะฐะฟััะบ
>python app.py
# ะัะบัะพะนัะต: http://127.0.0.1:5000

## ๐ป ะะปััะตัะฝะฐัะธะฒะฐ: ะบะพะฝัะพะปัะฝะฐั ะฟัะพะฒะตัะบะฐ

ะะปั ัะตััะธัะพะฒะฐะฝะธั ะปะพะณะธะบะธ ัะตะบะพะผะตะฝะดะฐัะธะน ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั ัะธัััะน Python-ัะบัะธะฟั:
python recommend_three_prices.py

ะกะบัะธะฟั:
- ะทะฐะณััะถะฐะตั ะพะฑััะตะฝะฝัั ะผะพะดะตะปั (model.joblib);
- ะฟัะธะฝะธะผะฐะตั ะฒะฒะพะด ัะตัะตะท input():
    - ัะตะฝั ะฟะฐััะฐะถะธัะฐ (start_price);
    - ะฒัะตะผั (order_time);
    - ะดะธััะฐะฝัะธั ะผะฐัััััะฐ (ะฒ ะผะตััะฐั);
- ัะฐัััะธััะฒะฐะตั ะฒะตัะพััะฝะพััะธ ะธ ะพะถะธะดะฐะตะผัะต ะดะพัะพะดั ะฟัะธ ัะฐะทะฝัั ัะตะฝะฐั:
    - ะปัััะฐั ัะตะฝะฐ (ะผะฐะบัะธะผะธะทะธััะตั E = P ร price);
    - ัะตะฝั ะฟัะธ 90%, 60% ะธ 20% ะพั ะฒะตัะพััะฝะพััะธ ะปัััะตะน.

ะัะธะผะตั ะฒัะฒะพะดะฐ:
>ะะฒะตะดะธัะต ัะตะฝั ะฟะฐััะฐะถะธัะฐ: 300
>ะะฒะตะดะธัะต ะฒัะตะผั ะทะฐะบะฐะทะฐ (HH:MM): 15:45
>ะะฒะตะดะธัะต ะดะธััะฐะฝัะธั, ะผ: 8000
>
>๐ ะะตะทัะปััะฐัั:
>1. ะัััะฐั ัะตะฝะฐ: 350 โฝ  |  P(accept) = 72.4%  |  E[ะดะพัะพะด] = 253.4 โฝ
>2. ะกัะตะดะฝัั (60%): 330 โฝ |  P(accept) = 43.2%  |  E[ะดะพัะพะด] = 142.6 โฝ
>3. ะะธะทะบะฐั (20%): 310 โฝ  |  P(accept) = 18.5%  |  E[ะดะพัะพะด] = 57.4 โฝ
>4. 90%-ัะตะฝะฐ: 340 โฝ      |  P(accept) = 65.1%  |  E[ะดะพัะพะด] = 221.4 โฝ

## ะกัััะบัััะฐ ัะตะฟะพะทะธัะพัะธั
```
drivee-smart-pricing/
โโโ demo/
โ   โโโ app.py
โ   โโโ recommend_three_prices.py 
โ   โโโ model.joblib
โ   โโโ train_model.py
โ   โโโ requirements.txt
โ   โโโ train.csv
โ   โโโ static/
โ   โ   โโโ driver.jpg
โ   โโโ templates/
โ       โโโ index.html             
โโโ 07-ะฅะฅ.pptx             
โโโ Demo.txt           
โโโ Screencast.txt                           
โโโ README.md
```                  

ะงัะพ ะฒะฝัััะธ UI (index.html):
- ะะฝัะตัะฐะบัะธะฒะฝะฐั ะบะฐััะฐ (OSM/Leaflet): ััะฐะฒััะต A ะธ B ะบะปะธะบะพะผ/ะฟะตัะตัะฐัะบะธะฒะฐะฝะธะตะผ, ะฒะฒะพะดะธัะต ะฐะดัะตั ะฒัััะฝัั (ะณะตะพะบะพะดะธะฝะณ Nominatim).
- ะะฐััััั ะฟะพ ัะปะธัะฐะผ ัััะพะธััั ัะตัะตะท ORS; ะดะธััะฐะฝัะธั ะฟะตัะตะดะฐัััั ะฒ ะผะพะดะตะปั.
- ะขะฐะฑะปะธัะฐ ั ัะตะฝะฐะผะธ ะธ ะฒะตัะพััะฝะพัััั ะฟัะธะฝััะธั ะฒ ะฟัะพัะตะฝัะฐั.
- ะะพะดะฐะปัะฝะพะต ะพะบะฝะพ ยซะกะฒะพั ัะตะฝะฐยป: ะฒะฒะตะดะธัะต ัะตะฝั ะธ ะฝะฐะถะผะธัะต Enter โ ััะฐะทั ะฟะพะปััะธัะต P(accept)% ะธ E[ะดะพัะพะด].
