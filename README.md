# üöñ Drivee Smart Pricing (–£–º–Ω–∞—è —Ü–µ–Ω–∞)

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –ø–æ–µ–∑–¥–∫–∏ —Ç–∞–∫—Å–∏, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω—è—Ç–∏—è –≤–æ–¥–∏—Ç–µ–ª–µ–º –∏ –æ–∂–∏–¥–∞–µ–º—ã–π –¥–æ—Ö–æ–¥.  
–ù–∞ –≤—Ö–æ–¥ ‚Äî —Ü–µ–Ω–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–∞, –≤—Ä–µ–º—è, –º–∞—Ä—à—Ä—É—Ç (A‚ÜíB) –∏–ª–∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏—è; –Ω–∞ –≤—ã—Ö–æ–¥ ‚Äî –ª—É—á—à–∞—è —Ü–µ–Ω–∞ –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (90% / 60% / 20% –æ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏), –∞ —Ç–∞–∫–∂–µ —Ä–∞—Å—á—ë—Ç ¬´—Å–≤–æ–µ–π —Ü–µ–Ω—ã¬ª.

---

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ (–ª–æ–∫–∞–ª—å–Ω–æ)

### 1) –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
git clone https://github.com/LinaDugau/drivee-smart-pricing.git
cd drivee-smart-pricing

python -m venv venv
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

### 2) –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

### 3) –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–ü–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª—é—á OpenRouteService: https://openrouteservice.org/dev/#/signup
# macOS/Linux:
export ORS_API_KEY="–í–ê–®_–ö–õ–Æ–ß"

# Windows (PowerShell):
setx ORS_API_KEY "–í–ê–®_–ö–õ–Æ–ß"
# –∏–ª–∏ –Ω–∞ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é:
set ORS_API_KEY=–í–ê–®_–ö–õ–Æ–ß

4) –ú–æ–¥–µ–ª—å
–û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å –Ω–∞ —Å–≤–æ–µ–º train.csv
–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–Ω—É—é –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å model.joblib –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
python train_model.py

5) –ó–∞–ø—É—Å–∫
python app.py
# –û—Ç–∫—Ä–æ–π—Ç–µ: http://127.0.0.1:5000

## üíª –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ Flask

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∏—Å—Ç—ã–π Python-—Å–∫—Ä–∏–ø—Ç:
python recommend_three_prices.py

–°–∫—Ä–∏–ø—Ç:
- –∑–∞–≥—Ä—É–∂–∞–µ—Ç –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å (model.joblib);
- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–≤–æ–¥ —á–µ—Ä–µ–∑ input():
-- —Ü–µ–Ω—É –ø–∞—Å—Å–∞–∂–∏—Ä–∞ (start_price);
-- –≤—Ä–µ–º—è (order_time);
-- –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –º–∞—Ä—à—Ä—É—Ç–∞ (–≤ –º–µ—Ç—Ä–∞—Ö);
- —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∏ –æ–∂–∏–¥–∞–µ–º—ã–µ –¥–æ—Ö–æ–¥—ã –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —Ü–µ–Ω–∞—Ö:
-- –ª—É—á—à–∞—è —Ü–µ–Ω–∞ (–º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ—Ç E = P √ó price);
-- —Ü–µ–Ω—ã –ø—Ä–∏ 90%, 60% –∏ 20% –æ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ª—É—á—à–µ–π.

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É –ø–∞—Å—Å–∞–∂–∏—Ä–∞: 300
–í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º—è –∑–∞–∫–∞–∑–∞ (HH:MM): 15:45
–í–≤–µ–¥–∏—Ç–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏—é, –º: 8000

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
1. –õ—É—á—à–∞—è —Ü–µ–Ω–∞: 350 ‚ÇΩ  |  P(accept) = 72.4%  |  E[–¥–æ—Ö–æ–¥] = 253.4 ‚ÇΩ
2. –°—Ä–µ–¥–Ω—è—è (60%): 330 ‚ÇΩ |  P(accept) = 43.2%  |  E[–¥–æ—Ö–æ–¥] = 142.6 ‚ÇΩ
3. –ù–∏–∑–∫–∞—è (20%): 310 ‚ÇΩ  |  P(accept) = 18.5%  |  E[–¥–æ—Ö–æ–¥] = 57.4 ‚ÇΩ
4. 90%-—Ü–µ–Ω–∞: 340 ‚ÇΩ      |  P(accept) = 65.1%  |  E[–¥–æ—Ö–æ–¥] = 221.4 ‚ÇΩ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
.
‚îú‚îÄ‚îÄ app.py                     # Flask-–±—ç–∫–µ–Ω–¥ –∏ API:
‚îÇ   ‚îÇ                          #  - POST /api/calc: 4 —Ü–µ–Ω—ã (–ª—É—á—à–∞—è, 90/60/20%)
‚îÇ   ‚îÇ                          #  - POST /api/custom: —Ä–∞—Å—á—ë—Ç P –∏ E –¥–ª—è "—Å–≤–æ–µ–π —Ü–µ–Ω—ã"
‚îÇ   ‚îî‚îÄ‚îÄ                        #  - GET /: –æ—Ç–¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–∞—Ä—Ç–æ–π
‚îú‚îÄ‚îÄ recommend_three_prices.py  # –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî —Ä–∞—Å—á—ë—Ç –±–µ–∑ Flask
‚îú‚îÄ‚îÄ model.joblib               # –û–±—É—á–µ–Ω–Ω–∞—è ML-–º–æ–¥–µ–ª—å (scikit-learn, joblib)
‚îú‚îÄ‚îÄ train_model.py             # –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ (–∏–∑ train.csv)
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html             # UI: Leaflet + Bootstrap + –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–°–≤–æ—è —Ü–µ–Ω–∞"
‚îú‚îÄ‚îÄ static/                    # —Å—Ç–∏–ª–∏, –∏–∫–æ–Ω–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ train.csv                  # –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt           # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md                  # —ç—Ç–æ—Ç —Ñ–∞–π–ª

–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ UI (map.html):
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ (OSM/Leaflet): —Å—Ç–∞–≤—å—Ç–µ A –∏ B –∫–ª–∏–∫–æ–º/–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º, –≤–≤–æ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –≤—Ä—É—á–Ω—É—é (–≥–µ–æ–∫–æ–¥–∏–Ω–≥ Nominatim).
- –ú–∞—Ä—à—Ä—É—Ç –ø–æ —É–ª–∏—Ü–∞–º —Å—Ç—Ä–æ–∏—Ç—Å—è —á–µ—Ä–µ–∑ ORS; –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –º–æ–¥–µ–ª—å.
- –¢–∞–±–ª–∏—Ü–∞ —Å —Ü–µ–Ω–∞–º–∏ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –ø—Ä–∏–Ω—è—Ç–∏—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö.
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ ¬´–°–≤–æ—è —Ü–µ–Ω–∞¬ª: –≤–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É –∏ –Ω–∞–∂–º–∏—Ç–µ Enter ‚Äî —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∏—Ç–µ P(accept)% –∏ E[–¥–æ—Ö–æ–¥].
